// Generated by CoffeeScript 1.6.2
/*
  Gozer - A load tester
  
  @author Bheesham Peraud <bheesham.persaud@live.ca>
*/


(function() {
  var config, gozer, page, _i, _len, _ref;

  gozer = require("../lib/gozer");

  if (process.argv.length === 1) {
    gozer.log("Unspecified configuration file.", "error");
    process.exit(1);
  }

  config = gozer.config(process.argv[2]);

  _ref = config.pages;
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    page = _ref[_i];
    gozer.taunt(config.duration, page);
  }

  setTimeout(function() {
    gozer.log("Exiting", "success");
    return process.exit(0);
  }, config.duration * 1000);

}).call(this);
